<?xml version="1.0" encoding="UTF-8"?>

<?import org.kordamp.ikonli.javafx.FontIcon?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane id="AnchorPane" prefHeight="636.0" prefWidth="711.0" style="-fx-background-color: #f5f7fa;" styleClass="mainFxmlClass" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.azmicro.moms.controller.medecin.ParametreController">
    <VBox spacing="15.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        <padding>
            <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
        </padding>
        <children>
            <!-- Header -->
            <HBox alignment="CENTER_LEFT" prefHeight="60.0" spacing="12.0" style="-fx-background-color: white; -fx-background-radius: 8; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 8, 0, 0, 2);">
                <children>
                    <FontIcon iconLiteral="fas-cog" iconSize="28" iconColor="#2193b0" />
                    <Label text="Paramètres" textFill="#2c3e50">
                        <font>
                            <Font name="Segoe UI Semibold" size="22" />
                        </font>
                    </Label>
                </children>
                <padding>
                    <Insets bottom="10.0" left="20.0" right="20.0" top="10.0" />
                </padding>
            </HBox>
            
    <TabPane prefHeight="614.0" prefWidth="703.0" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-background-radius: 8; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.08), 6, 0, 0, 2);">
        <tabs>
            <Tab text="Medecin">
                <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="344.0" prefWidth="399.0">
                        <children>
                            <!--    <stylesheets>
                                <URL value="@../../css/parametre.css" />
                            </stylesheets>-->
                            <VBox spacing="5.0" styleClass="mainFxmlClass" stylesheets="@../../css/parametre.css" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="5.0">
                      
                                <!-- Section pour le logo -->
                                <!--    <HBox alignment="CENTER" spacing="10" padding="10">
                                    <ImageView fx:id="logoImageView" fitHeight="80" fitWidth="80" pickOnBounds="true" preserveRatio="true" />
                                    <Label text="Gestion des Médecins" style="-fx-font-size: 24px; -fx-font-weight: bold;" />
                                </HBox>-->
                      
                                <!-- Section pour la gestion des médecins -->
                                <HBox spacing="5.0" VBox.vgrow="ALWAYS">
                          
                                    <!-- Formulaire pour ajouter/modifier un médecin -->
                                    <VBox spacing="10.0" style="-fx-border-color: #ddd; -fx-border-radius: 10; -fx-padding: 10;" HBox.hgrow="ALWAYS">
                                        <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Ajouter/Modifier un Médecin" />
                                        <TextField fx:id="nomTextField" promptText="Nom" />
                                        <TextField fx:id="prenomTextField" promptText="Prénom" />
                                        <ComboBox fx:id="specialiteComboBox" promptText="Spécialité" />
                                        <TextField fx:id="telephoneTextField" promptText="Téléphone" />
                                        <TextField fx:id="emailTextField" promptText="Email" />
                                        <TextField fx:id="adresseTextField" promptText="Adresse" />
                                        <!-- Section pour télécharger et afficher le logo -->
                                        <HBox alignment="CENTER_LEFT" prefHeight="50.0" prefWidth="173.0" spacing="5.0">
                                            <Button onAction="#handleUploadLogo" text="Télécharger Logo" />
                                            <Pane styleClass="test-style">
                                                <ImageView fx:id="logoImageView" fitHeight="34.0" fitWidth="62.0" pickOnBounds="true" preserveRatio="true" />
                                            </Pane>
                                        </HBox>
                                        <Button onAction="#handleSaveMedecin" text="Enregistrer" />
                                        <!-- Champ pour le dossier de sortie -->
                                        <HBox spacing="5.0">
                                            <TextField fx:id="outputDirectoryTextField" promptText="Dossier de sortie" />
                                            <Button onAction="#handleBrowseOutputDirectory" text="Parcourir..." />
                                        </HBox>
                                    </VBox>
                          
                                    <!-- Table des médecins -->
                                    <VBox spacing="10.0" style="-fx-border-color: #ddd; -fx-border-radius: 10; -fx-padding: 10;" HBox.hgrow="ALWAYS">
                                        <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Liste des Médecins" />
                                        <AnchorPane VBox.vgrow="ALWAYS">
                                            <children>
                                                <TableView fx:id="medecinTableView" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
                                                    <columns>
                                                        <TableColumn fx:id="nomColumn" text="Nom" />
                                                        <TableColumn fx:id="prenomColumn" text="Prénom" />
                                                        <TableColumn fx:id="specialiteColumn" text="Spécialité" />
                                                        <TableColumn fx:id="telephoneColumn" text="Téléphone" />
                                                        <TableColumn fx:id="emailColumn" text="Email" />
                                                        <TableColumn fx:id="adresseColumn" text="Adresse" />
                                                    </columns>
                                                    <columnResizePolicy>
                                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                                    </columnResizePolicy>
                                                </TableView>
                                            </children>
                                        </AnchorPane>
                                        <HBox spacing="10">
                                            <Button onAction="#handleDeleteMedecin" text="Supprimer" />
                                        </HBox>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </children>
                    </AnchorPane>
                </content>
            </Tab>
            <Tab text="Police et Taille">
                <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0">
                        <children>
                            <VBox spacing="10.0" stylesheets="@../../css/parametre.css" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="5.0">
                                <children>
                                    <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Configurer les polices par type de document" />

                                    <!-- Titres -->
                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <children>
                                            <Label text="Titres : Police" />
                                            <ComboBox fx:id="titleFontCombo" prefWidth="200.0" />
                                            <Label text="Taille" />
                                            <Spinner fx:id="titleFontSizeSpinner" prefWidth="100.0" />
                                        </children>
                                    </HBox>

                                    <!-- Texte principal (documents généraux) -->
                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <children>
                                            <Label text="Texte (documents) : Police" />
                                            <ComboBox fx:id="textFontCombo" prefWidth="200.0" />
                                            <Label text="Taille" />
                                            <Spinner fx:id="textFontSizeSpinner" prefWidth="100.0" />
                                        </children>
                                    </HBox>

                                    <!-- Ordonnances -->
                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <children>
                                            <Label text="Ordonnances : Police" />
                                            <ComboBox fx:id="ordFontCombo" prefWidth="200.0" />
                                            <Label text="Taille" />
                                            <Spinner fx:id="ordFontSizeSpinner" prefWidth="100.0" />
                                        </children>
                                    </HBox>

                                    <!-- Formulaires PDF -->
                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <children>
                                            <Label text="Formulaires PDF : Police" />
                                            <ComboBox fx:id="formFontCombo" prefWidth="200.0" />
                                            <Label text="Taille" />
                                            <Spinner fx:id="formFontSizeSpinner" prefWidth="100.0" />
                                        </children>
                                    </HBox>

                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <children>
                                            <Button fx:id="saveFontSettingsBtn" text="Enregistrer" />
                                            <Label fx:id="saveStatusLabel" text="" />
                                        </children>
                                    </HBox>
                                </children>
                            </VBox>
                        </children>
                    </AnchorPane>
                </content>
            </Tab>
            <Tab text="Disponibilite">
                <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                        <children>
                            <HBox prefHeight="347.0" prefWidth="365.0" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="5.0">
                                <children>
                         
                                    <!-- Section pour gérer les disponibilités des médecins -->
                                    <VBox alignment="CENTER" spacing="10.0" style="-fx-border-color: #ddd; -fx-border-radius: 10; -fx-padding: 10;" stylesheets="@../../css/parametre.css" HBox.hgrow="ALWAYS">
                                        <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Gérer les Disponibilités" />
                                        <HBox spacing="10">
                                            <ComboBox fx:id="joursComboBox" promptText="Jours" />
                                            <Label text="De :" />
                                            <TextField fx:id="heureDebutTextField" promptText="Heure de début (HH:MM)" />
                                            <Label text="à :" />
                                            <TextField fx:id="heureFinTextField" promptText="Heure de fin (HH:MM)" />
                                            <Button onAction="#handleAddOrUpdateDisponibilite" text="Ajouter Disponibilité" />
                                        </HBox>
                             
                                        <!-- Table des disponibilités -->
                                        <TableView fx:id="disponibiliteTableView" VBox.vgrow="ALWAYS">
                                            <columns>
                                                <TableColumn fx:id="jourClm" prefWidth="75.0" text="Jours" />
                                                <TableColumn fx:id="heureDebutColumn" text="Heure de début" />
                                                <TableColumn fx:id="heureFinColumn" text="Heure de fin" />
                                            </columns>
                                            <columnResizePolicy>
                                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                            </columnResizePolicy>
                                        </TableView>
                                    </VBox>
                                </children>
                            </HBox>
                        </children>
                    </AnchorPane>
                </content>
            </Tab>
            <Tab text="Actes">
                <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                        <children>
                            <VBox alignment="TOP_CENTER" layoutX="35.0" layoutY="34.0" prefHeight="200.0" prefWidth="100.0" styleClass="test-style" stylesheets="@../../css/parametre.css" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="5.0">
                                <children>
                                    <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Gérer les acates" />
                                    <HBox alignment="CENTER_LEFT" prefHeight="54.0" prefWidth="686.0" spacing="5.0">
                                        <children>
                                            <TextField fx:id="acteTf" promptText="Acte" />
                                            <TextField fx:id="prixActeTf" promptText="Prix (DH)" />
                                            <Button onAction="#handleAddOrUpdateActe" text="Ajouter un acte" />
                                        </children>
                                    </HBox>
                                    <TableView fx:id="tvActe" prefHeight="475.0" prefWidth="686.0">
                                        <columns>
                                            <TableColumn fx:id="clmActe" prefWidth="75.0" text="Actes" />
                                            <TableColumn fx:id="clmPrix" prefWidth="75.0" text="Prix" />
                                        </columns>
                                        <columnResizePolicy>
                                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                        </columnResizePolicy>
                                    </TableView>
                                </children>
                            </VBox>
                        </children>
                    </AnchorPane>
                </content>
            </Tab>
            <Tab text="Medicaments">
                <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                        <children>
                            <VBox alignment="TOP_CENTER" prefHeight="200.0" prefWidth="100.0" styleClass="test-style" stylesheets="@../../css/parametre.css" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="5.0">
                                <children>
                                    <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Gérer les medicaments" />
                           <HBox prefHeight="40.0" prefWidth="570.0">
                              <children>
                                 <StackPane prefHeight="40.0" prefWidth="297.0">
                                    <children>
                                       <TextField fx:id="tfKeywordMedicament" prefHeight="29.0" prefWidth="192.0">
                                          <StackPane.margin>
                                             <Insets />
                                          </StackPane.margin>
                                       </TextField>
                                       <Button mnemonicParsing="false" prefHeight="11.0" prefWidth="39.0" style="-fx-background-color: transparent;" StackPane.alignment="CENTER_RIGHT">
                                          <graphic>
                                             <FontIcon iconLiteral="fas-search" iconSize="24" />
                                          </graphic>
                                       </Button>
                                    </children>
                                 </StackPane>
                              </children>
                           </HBox>
                                    <HBox alignment="CENTER_LEFT" prefHeight="54.0" prefWidth="686.0" spacing="5.0">
                                        <children>
                                            <TextField fx:id="tfMedicament" promptText="Nom medicament" />
                                            <TextField fx:id="tfFormeDosage" promptText="Forme et dosage" />
                                            <Button onAction="#handleAddOrUpdateMedicament" text="Ajouter un medicament" />
                                        </children>
                                    </HBox>
                                    <TableView fx:id="tvMedicament" prefHeight="475.0" prefWidth="686.0">
                                        <columns>
                                            <TableColumn fx:id="clmMedicament" prefWidth="75.0" text="Medicament" />
                                            <TableColumn fx:id="clmFormeDosage" prefWidth="75.0" text="Forme et dosage" />
                                        </columns>
                                        <columnResizePolicy>
                                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                        </columnResizePolicy>
                                    </TableView>
                                </children>
                            </VBox>
                        </children>
                    </AnchorPane>
                </content>
            </Tab>
            <Tab text="Imageries">
                <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                        <children>
                            <VBox alignment="TOP_CENTER" prefHeight="200.0" prefWidth="100.0" styleClass="test-style" stylesheets="@../../css/parametre.css" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="5.0">
                                <children>
                                    <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Gérer l'imagerie" />
                           <HBox prefHeight="40.0" prefWidth="570.0">
                              <children>
                                 <StackPane prefHeight="40.0" prefWidth="297.0">
                                    <children>
                                       <TextField fx:id="tfKeywordImagerie" prefHeight="29.0" prefWidth="192.0">
                                          <StackPane.margin>
                                             <Insets />
                                          </StackPane.margin>
                                       </TextField>
                                       <Button mnemonicParsing="false" prefHeight="11.0" prefWidth="39.0" style="-fx-background-color: transparent;" StackPane.alignment="CENTER_RIGHT">
                                          <graphic>
                                             <FontIcon iconLiteral="fas-search" iconSize="24" />
                                          </graphic>
                                       </Button>
                                    </children>
                                 </StackPane>
                              </children>
                           </HBox>
                                    <HBox alignment="CENTER_LEFT" prefHeight="54.0" prefWidth="686.0" spacing="5.0">
                                        <children>
                                            <TextField fx:id="tfImagerie" promptText="Nom imagerie" />
                                 <TextField fx:id="tfCodeImagerie" layoutX="162.0" layoutY="23.0" promptText="Code" />
                                            <TextField fx:id="tfDescriptionImagerie" promptText="description" />
                                            <Button onAction="#handleAddOrUpdateImagerie" text="Ajouter une imagerie" />
                                        </children>
                                    </HBox>
                                    <TableView fx:id="tvImagerie" prefHeight="475.0" prefWidth="686.0">
                                        <columns>
                                            <TableColumn fx:id="clmImagerie" prefWidth="75.0" text="Imagerie" />
                                 <TableColumn fx:id="clmCodeImagerie" prefWidth="75.0" text="Code" />
                                            <TableColumn fx:id="clmDescriptionImagerie" prefWidth="75.0" text="Description" />
                                        </columns>
                                        <columnResizePolicy>
                                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                        </columnResizePolicy>
                                    </TableView>
                                </children>
                            </VBox>
                        </children>
                    </AnchorPane>
                </content>
            </Tab>
            <Tab text="Analyses">
                <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                        <children>
                            <VBox alignment="TOP_CENTER" prefHeight="200.0" prefWidth="100.0" styleClass="test-style" stylesheets="@../../css/parametre.css" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="5.0">
                                <children>
                                    <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Gérer les analyses" />
                           <HBox prefHeight="40.0" prefWidth="570.0">
                              <children>
                                 <StackPane prefHeight="40.0" prefWidth="297.0">
                                    <children>
                                       <TextField fx:id="tfKeywordAnalyse" prefHeight="29.0" prefWidth="192.0">
                                          <StackPane.margin>
                                             <Insets />
                                          </StackPane.margin>
                                       </TextField>
                                       <Button mnemonicParsing="false" prefHeight="11.0" prefWidth="39.0" style="-fx-background-color: transparent;" StackPane.alignment="CENTER_RIGHT">
                                          <graphic>
                                             <FontIcon iconLiteral="fas-search" iconSize="24" />
                                          </graphic>
                                       </Button>
                                    </children>
                                 </StackPane>
                              </children>
                           </HBox>
                                    <HBox alignment="CENTER_LEFT" prefHeight="54.0" prefWidth="686.0" spacing="5.0">
                                        <children>
                                            <TextField fx:id="analyseTf" promptText="Nom de l'analyse" />
                                 <TextField fx:id="codeFrAnalyse" layoutX="162.0" layoutY="23.0" promptText="Code" />
                                            <TextField fx:id="descriptionAnalyse" promptText="Description" />
                                            <Button onAction="#handleAddOrUpdateAnalyse" text="Ajouter une analyse" />
                                        </children>
                                    </HBox>
                                    <TableView fx:id="tvAnalyse" prefHeight="475.0" prefWidth="686.0">
                                        <columns>
                                            <TableColumn fx:id="clmAnalyse" prefWidth="75.0" text="Analyse" />
                                 <TableColumn fx:id="clmCodeAnalyse" prefWidth="75.0" text="Code" />
                                            <TableColumn fx:id="clmDescriptionAnalyse" prefWidth="75.0" text="Description" />
                                        </columns>
                                        <columnResizePolicy>
                                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                        </columnResizePolicy>
                                    </TableView>
                                </children>
                            </VBox>
                        </children>
                    </AnchorPane>
                </content>
            </Tab>
        </tabs>
    </TabPane>
        </children>
    </VBox>
</AnchorPane>
